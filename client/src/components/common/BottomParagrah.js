import React, { PureComponent } from 'react';
import { Link } from 'react-router-dom';
import i18n from 'i18next';
import { withTranslation, Trans } from 'react-i18next';
import iconIOS from '../../assets/images/app-stores-ios.png';
import iconPlay from '../../assets/images/app-stores-play.png';
import Icon from './Icon';
import { generateSlug } from '../../core/utils/helper';

class BottomParagrah extends PureComponent {
    constructor(props) {
        super(props);
        this.state = {
            expand: /bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent),
            popularEvents: null,
        };
        this.clickHandlerExpand = this.clickHandlerExpand.bind(this);
    }

    componentDidMount() {
        this.initGetData();
    }

    initGetData() {
        fetch(`/api/partial/footer/popularevents`)
            .then((res) => {
                if (res.status === 200) {
                    return res.json();
                } else {
                    throw Error(`Can't retrieve information from server, ${res.status}`);
                }
            })
            .then((res) => {
                if (res.length < 1) throw Error(`Can't retrieve information from server`);

                this.setState({
                    popularEvents: res,
                });
            })
            .catch((err) => {
                this.setState({
                    popularEvents: { error: err.toString() },
                });
            });
    }

    clickHandlerExpand() {
        this.setState({ expand: true });
    }

    render() {
        const { popularEvents } = this.state;
        const { t } = this.props;

        return (
            <article className="bottom-paragraph">
                <div className="container">
                    <div className="row">
                        <div className="col col-12 col-md-6 col-popular-games">
                            <h1 className="popular-matches-title">
                                <Trans>Featured Matches</Trans>
                            </h1>
                            {popularEvents && popularEvents.length > 0 ? (
                                <ul className="popular-matches-ul">
                                    {popularEvents.map((event, index) => (
                                        <li key={index}>
                                            <Icon name="fas fa-chevron-right" />{' '}
                                            <Link
                                                to={{
                                                    pathname: `/${t('match')}/${generateSlug(
                                                        t(event.teams.home.name) + '-' + t(event.teams.home.name)
                                                    )}-${t('live-score')}-${event.id}`,
                                                    state: { isPrev: true },
                                                }}
                                                title={`${t(event.teams.home.name)} - ${t(event.teams.away.name)}  ${t(
                                                    'click for live scores, lineup and stats'
                                                )}`}
                                            >
                                                {event.teams.home.name} - {event.teams.away.name}
                                            </Link>
                                        </li>
                                    ))}
                                </ul>
                            ) : (
                                ''
                            )}
                            <h1 className="popular-leagues-title">
                                <Trans>Popular Leagues</Trans>
                            </h1>
                            <ul className="popular-leagues-ul">
                                {popularLeagues.map((item, index) => (
                                    <li key={index}>
                                        <Link
                                            to={{
                                                pathname: `/${t('league')}/${generateSlug(
                                                    t(item.country)
                                                )}-${generateSlug(t(item.name))}${t('-standing-')}${item.uniqueId}${t(
                                                    '-season-'
                                                )}${item.seasonId ? item.seasonId : '0'}`,
                                                state: { isPrev: true },
                                            }}
                                            title={`${t(item.country)} - ${t(item.name)} ${t(
                                                'click for standings, highlights and league fixtures'
                                            )}`}
                                        >
                                            <img
                                                src={
                                                    window.ImageServer +
                                                    '/images/u-tournament/' +
                                                    item.uniqueId +
                                                    '.png'
                                                }
                                                alt={`${t(item.country)} - ${t(item.name)} ${t(
                                                    'click for standings, highlights and league fixtures'
                                                )}`}
                                            />
                                            {item.country !== 'World' ? t(item.country) + ' - ' : ''}
                                            {t(item.name)}
                                        </Link>
                                    </li>
                                ))}
                            </ul>
                            <div className="app-download-title">
                                <Trans>Our Mobile Apps will be available soon...</Trans>
                            </div>
                            <img className="app-download-icon ios" src={iconIOS} alt="Get our app on App Store" />
                            <img className="app-download-icon ios" src={iconPlay} alt="Get our app on App Store" />
                        </div>
                        <div className={'col col-12 col-md-6 col-about-us ' + (!this.state.expand ? 'shrink' : '')}>
                            {i18n.language === 'en' ? englishSeoText() : turkishSeoText()}
                            {!this.state.expand ? (
                                <div className="readmore" onClick={this.clickHandlerExpand}>
                                    <Icon name="fas fa-chevron-down" /> <Trans>Read more</Trans>
                                </div>
                            ) : null}
                        </div>
                    </div>
                </div>
            </article>
        );
    }
}

const popularLeagues = [
    {
        name: 'UEFA Champions League',
        country: 'World',
        seasonId: 23766,
        uniqueId: 7,
    },
    {
        name: 'UEFA Europa League',
        country: 'World',
        seasonId: 23755,
        uniqueId: 679,
    },
    {
        name: 'SÃ¼per Lig',
        country: 'Turkey',
        seasonId: 24407,
        uniqueId: 52,
    },
    {
        name: 'Premier League',
        country: 'England',
        seasonId: 23776,
        uniqueId: 17,
    },
    {
        name: 'LaLiga',
        country: 'Spain',
        seasonId: 24127,
        uniqueId: 8,
    },
    {
        name: 'Bundesliga',
        country: 'Germany',
        seasonId: 23538,
        uniqueId: 35,
    },
    {
        name: 'Serie A',
        country: 'Italy',
        seasonId: 24644,
        uniqueId: 23,
    },
    {
        name: 'Ligue 1',
        country: 'France',
        seasonId: 23872,
        uniqueId: 34,
    },
    {
        name: 'Eredivisie',
        country: 'Netherlands',
        seasonId: 23873,
        uniqueId: 37,
    },
    {
        name: 'Primeira Liga',
        country: 'Portugal',
        seasonId: 24150,
        uniqueId: 238,
    },
    {
        name: 'Premier Liga',
        country: 'Russia',
        seasonId: 23682,
        uniqueId: 203,
    },
    {
        name: 'Championship',
        country: 'England',
        seasonId: 23976,
        uniqueId: 18,
    },
];

const englishSeoText = () => {
    return (
        <>
            <h1>Live Score, Match Results and League Fixtures - UltraSkor</h1>

            <p>
                On Ultrascore, you can get live coverage for football matches from more than 1000 worldside soccer
                leagues, tournaments with live updated goal results, live scores, incidents, first half and full time
                results, statistics, league tables, video hightlights, fixtures, booking stats, substitutions, live
                match stats, and live streams.
            </p>

            <h2>Live Match Tracking</h2>
            <p>
                Through the Match Live tab on the match detail page, you can follow the match with animattio supported
                live narration as if you are watching it on TV
            </p>

            <h2>Bettings Odds, Betting Analysis ve Betting Forecast</h2>
            <p>
                By clicking on Iddaa icon in the match detail screen; you can get the most accured betting analysises
                which are genrated by combining a lot of statistics about home and away teams previous results data.
            </p>

            <h2>Injured and Suspended List</h2>
            <p>
                On the Match detail page, you can get the list of red cards injured, crippled, off-board, missing,
                suspended and suspicious players prior to game kickoff
            </p>

            <h2>League Standings / League Tables</h2>
            <p>
                As well as the popular leagues such as, English Premier League, Spanish La Liga, Italian Serie A,
                Turkish Super League, Bundesliga and French Ligue 1, we also provide live coverages and league standings
                for UEFA Champions League, Europa League, World Cup and live match scores in international tournaments
                like the European Championship
            </p>

            <h2>Live Matches, Previous / Upcoming Matches and Filters</h2>
            <p>
                By clicking on the live icon, you can list of the only live matches. There is an option to select All or
                Live football matches. By click the filter icon, you can filter out only the leagues you want to follow.
                By changing the date on the calendar icon, you can see the previous dates' games, or upcoming games
            </p>

            <h2>Live Refresh</h2>
            <p>
                You don't have to manually refresh any page. Scores, bookings, minutes are all automatically refreshed
            </p>
        </>
    );
};

const turkishSeoText = () => {
    return (
        <>
            <h1>CanlÄ± Skor, CanlÄ± MaÃ§ SonuÃ§larÄ±, Ä°ddaa SonuÃ§larÄ± - UltraSkor</h1>
            <p>
                Ultraskor canlÄ± skorlar sayfalarÄ±nda 1000âden fazla lig ve kupada oynanan 75000âin Ã¼zerindeki futbol
                maÃ§larÄ±nÄ±n hÄ±zlÄ± ve doÄru Åekilde; gol dakikalarÄ±nÄ±, ilk yarÄ± ve maÃ§ sonuÃ§larÄ±nÄ±, gol atan ve asist
                yapan oyuncularÄ±nÄ±, kÄ±rmÄ±zÄ± ve sarÄ± kartlarÄ±nÄ±, oyuncu deÄiÅikliklerini, canlÄ± maÃ§ istatistiklerini ve
                canlÄ± yayÄ±nlarÄ±nÄ± bulabilirsiniz.
            </p>

            <h2>Iddaa BÃ¼ltenleri</h2>
            <p>
                Ä°ddaa bÃ¼ltenindeki maÃ§larÄ±n kodlarÄ±nÄ± ve karÅÄ±laÅmalarÄ±n baÅlama saatlerini gÃ¶rebilir, canlÄ± maÃ§larÄ±n
                dakika ve skor bilgisini canlÄ± olarak takip edebilirsiniz.
            </p>

            <h2>CanlÄ± MaÃ§ AnlatÄ±mÄ±</h2>
            <p>
                MaÃ§ detay sayfasÄ±ndaki CanlÄ± MaÃ§ AnlatÄ±mÄ± sekmesinden, maÃ§Ä± TV'den izliyormuÅ gibi animasyon destekli
                canlÄ± anlatÄ±m ile maÃ§Ä± takip edebilirsiniz.
            </p>

            <h2>Iddaa OranlarÄ±, Iddaa Analizleri ve Iddaa Tahminleri</h2>
            <p>
                MaÃ§ detay ekranÄ±ndaki iddaa simgesine tÄ±klayarak, maÃ§Ä±n iddaa oranlarÄ±nÄ± ve iddaa analizlerini
                gÃ¶rebilirsiniz. Iddaa analizleri bÃ¶lÃ¼mÃ¼nden, bir Ã§ok istatistiÄin birleÅtirilerek oluÅturulduÄu iddaa
                tahmin ve analizlerini, iddaa yapmadan Ã¶nce mutlaka okumlÄ±sÄ±nÄ±z.
            </p>

            <h2>Sakat ve CezalÄ± Listesi</h2>
            <p>
                MaÃ§ detay sayfasÄ±ndaki Sakat ve CezalÄ±lar sekmesinden, kÄ±rmÄ±zÄ± kart cezalÄ±sÄ±, sakat, kadro dÄ±ÅÄ± ve
                oynamasÄ± ÅÃ¼pheli oyuncularÄ± gÃ¶rebilirsiniz.
            </p>

            <h2>Lig Puan DurumlarÄ±</h2>
            <p>
                TÃ¼rkiye SÃ¼per Lig, Ä°ngiltere Premier Lig, Ä°spanya La Liga, Ä°talya Serie A, Bundesliga ve Fransa Ligue 1
                gibi popÃ¼ler liglerin yanÄ±sÄ±ra UEFA Åampiyonlar Ligi, Avrupa Ligi, DÃ¼nya KupasÄ± ve Avrupa ÅampiyonasÄ±
                gibi uluslararasÄ± turnuvalarÄ±nda canlÄ± maÃ§ skorlarÄ±nÄ±, puan durumlarÄ±nÄ± ve Ã¶zetlerini takip
                edebilirsiniz.
            </p>

            <h2>CanlÄ± MaÃ§lar, GeÃ§miÅ/Gelecek MaÃ§lar ve Filtrelemeler</h2>
            <p>
                CanlÄ± simgesine tÄ±klayarak, ekranda sadace canlÄ± maÃ§larÄ±n listelenmesi, filtre icondan sadace
                istediÄiniz lige ait maÃ§larÄ±n listelenmesi, takvim simgesinden tarihi deÄiÅtirerek oynanmÄ±Å maÃ§larÄ± veya
                ileri tarihte oynanacak maÃ§larÄ± gÃ¶rÃ¼ntÃ¼leyebilirsiniz.
            </p>

            <h2>Otomatik Yenileme</h2>
            <p>
                MaÃ§lardaki dakika, skor ve kÄ±rmÄ±zÄ± kart bilgilerinin ekrana yansÄ±masÄ± iÃ§in sayfayÄ± yenilemenize gerek
                yoktur. Sayfalar otomatik olarak gÃ¼ncellenmektedir.
            </p>
        </>
    );
};

export default withTranslation('translations')(BottomParagrah);
